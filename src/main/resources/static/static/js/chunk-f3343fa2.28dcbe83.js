(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3343fa2"],{"9f33":function(t,e,i){"use strict";i.d(e,"q",(function(){return o})),i.d(e,"d",(function(){return r})),i.d(e,"u",(function(){return s})),i.d(e,"n",(function(){return a})),i.d(e,"o",(function(){return d})),i.d(e,"l",(function(){return l})),i.d(e,"k",(function(){return u})),i.d(e,"t",(function(){return c})),i.d(e,"g",(function(){return h})),i.d(e,"i",(function(){return m})),i.d(e,"b",(function(){return f})),i.d(e,"f",(function(){return v})),i.d(e,"s",(function(){return g})),i.d(e,"j",(function(){return p})),i.d(e,"h",(function(){return b})),i.d(e,"a",(function(){return w})),i.d(e,"e",(function(){return V})),i.d(e,"r",(function(){return y})),i.d(e,"m",(function(){return j})),i.d(e,"c",(function(){return O})),i.d(e,"p",(function(){return x})),i.d(e,"v",(function(){return I}));var n=i("b775");function o(t){return Object(n["a"])({url:"/shortVideo/getVideoList",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/shortVideo/deleteVideo",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/shortVideo/updateVideo",method:"post",data:t})}function a(t,e){return Object(n["a"])({url:"/shortVideo/getShortVideoUser/"+e,method:"get",params:t})}function d(t){return Object(n["a"])({url:"/shortVideo/getUser/"+t,method:"get"})}function l(t){return Object(n["a"])({url:"/shortVideo/getAuditVideoList",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/shortVideo/getAuditVideo",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/shortVideo/passAuditVideo",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/shortVideo/denyAuditVideo",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/shortVideo/getAuditCommentList",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/shortVideo/deleteAuditComments",method:"post",data:t})}function v(t){return Object(n["a"])({url:"/shortVideo/denyAuditComments",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/shortVideo/passAuditComments",method:"post",data:t})}function p(t,e){return Object(n["a"])({url:"/shortVideo/getAuditCommentListChild/"+e,method:"get",params:t})}function b(t){return Object(n["a"])({url:"/shortVideo/getAuditComment",method:"get",params:t})}function w(t){return Object(n["a"])({url:"/shortVideo/deleteAuditComment",method:"post",data:t})}function V(t){return Object(n["a"])({url:"/shortVideo/denyAuditComment",method:"post",data:t})}function y(t){return Object(n["a"])({url:"/shortVideo/passAuditComment",method:"post",data:t})}function j(t){return Object(n["a"])({url:"/shortVideo/getShareVideo",method:"get",params:t})}function O(t){return Object(n["a"])({url:"/shortVideo/deleteShareVideo",method:"post",data:t})}function x(t){return Object(n["a"])({url:"/shortVideo/getVideoConfig",method:"get",params:t})}function I(t){return Object(n["a"])({url:"/shortVideo/updateVideoConfig",method:"post",data:t})}},ec8a:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("section",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[i("div",{staticClass:"filter-container"},[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"1vw"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:t.handleFilter}},[t._v(" 随机视频 ")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"1vw"},attrs:{type:"warning",icon:"el-icon-upload2",round:""},on:{click:t.handlePrevious}},[t._v(" 上一条视频 ")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"1vw"},attrs:{type:"success",icon:"el-icon-download",round:""},on:{click:t.handleNext}},[t._v(" 下一条视频 ")])],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("video",{ref:"video",staticClass:"full-height full-width",attrs:{height:"800vh",width:"90%",controls:""}})]),i("el-col",{attrs:{span:12}},[i("el-card",[i("el-form",[i("el-form-item",{attrs:{label:"ID"}},[i("el-tag",[t._v(t._s(t.list[t.videoIndex].id))])],1),i("el-form-item",{attrs:{label:"发布文案"}},[i("el-tag",[t._v(t._s(t.list[t.videoIndex].title))])],1),i("el-form-item",{attrs:{label:"UserID"}},[i("el-tag",[t._v(t._s(t.list[t.videoIndex].userId))])],1),i("el-form-item",{attrs:{label:"用户昵称"}},[i("el-tag",[t._v(t._s(t.list[t.videoIndex].nickname))])],1),i("el-form-item",{attrs:{label:"上传时间"}},[i("el-tag",[t._v(t._s(t._f("parseTime")(t.list[t.videoIndex].addTime,"{y}-{m}-{d} {h}:{i}")))])],1),i("el-form-item",{attrs:{label:"更新时间"}},[i("el-tag",[t._v(t._s(t._f("parseTime")(t.list[t.videoIndex].updateTime,"{y}-{m}-{d} {h}:{i}")))])],1)],1)],1)],1)],1),i("el-row",{staticStyle:{margin:"18px"}},[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"1vw"},attrs:{type:"danger",icon:"el-icon-upload2",round:""},on:{click:t.handleDeny}},[t._v(" 拒绝审核 ")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"1vw"},attrs:{type:"success",icon:"el-icon-download",round:""},on:{click:t.handlePass}},[t._v(" 通过审核 ")])],1)],1)])},o=[],r=(i("c740"),i("fb6a"),i("9f33")),s=i("ba56"),a={data:function(){return{list:[],video:{pic:"",playUrl:""},videoIndex:0,loading:!0,total:0,listQuery:{page:1,limit:20}}},watch:{videoIndex:{immediate:!0,handler:function(t,e){t!==e&&t<this.list.length&&this.getStream(this.list[t].playUrl)},deep:!0},list:{handler:function(t,e){t.length>0&&this.getStream(this.list[this.videoIndex].playUrl)},deep:!0}},created:function(){this.init()},methods:{getList:function(){var t=this;this.loading=!0,Object(r["l"])(this.listQuery).then((function(e){var i=e.list,n=e.total;t.list=i,t.total=n,t.loading=!1,t.videoIndex=0,t.getStream(i[0].playUrl)}))},getStream:function(t){var e=this;s.isSupported()&&(this.hls=new s,this.hls.loadSource(t),this.hls.attachMedia(this.$refs.video),this.hls.on(s.Events.MANIFEST_PARSED,(function(){console.log("加载成功"),e.$refs.video.play()})),this.hls.on(s.Events.ERROR,(function(t,e){console.log("加载失败")})))},handleFilter:function(){var t=this;this.loading=!0,Object(r["k"])().then((function(e){t.loading=!1,t.list.push(e),t.videoIndex=t.list.findIndex((function(t){return t.id===e.id}))}))},handlePrevious:function(){this.videoIndex>0&&this.videoIndex--},handleNext:function(){this.videoIndex<this.list?this.videoIndex++:this.getList()},handleDeny:function(){var t=this;this.loading=!0,Object(r["g"])({id:this.list[this.videoIndex].id}).then((function(){t.loading=!1,t.list.slice(t.videoIndex,1),t.$notify({title:"Success",message:"操作成功",type:"success",duration:2e3})}))},handlePass:function(){var t=this;this.loading=!0,Object(r["t"])({id:this.list[this.videoIndex].id}).then((function(){t.list.slice(t.videoIndex,1),t.loading=!1})),this.$notify({title:"Success",message:"操作成功",type:"success",duration:2e3})},init:function(){this.getList()}}},d=a,l=i("2877"),u=Object(l["a"])(d,n,o,!1,null,"3dc5e304",null);e["default"]=u.exports}}]);